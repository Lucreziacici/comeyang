webpackJsonp([20],{"1gL3":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{orderid:this.$route.query.orderid,addresslist:[],IDCardList:[],order:{},orderdetail_list:[],dialogVisible:!1,dialogidcard:!1,dialogidpaytype:!1,type:"add",paylist:[{type:"0",name:"支付宝",icon:"el-icon-comeyang-zhifubao"},{type:"1",name:"微信",icon:"el-icon-comeyang-weixin"},{type:"2",name:"银联",icon:"el-icon-comeyang-yinlianzhifu"}],paytype:"0"}},created:function(){this.getAddressList(),this.getIDCardList(),this.getOrderDetail()},methods:{getOrderDetail:function(){var t=this;this.$axios({method:"get",url:"Order/OrderDetail",params:{order_no:this.$route.query.orderid}}).then(function(s){"0"==s.data.res_status_code?(console.log(s.data.res_content),t.order=s.data.res_content.order,t.orderdetail_list=s.data.res_content.package_list):t.$message({showClose:!0,message:s.data.res_message,type:"error"})}).catch(function(t){console.log(t)})},getIDCardList:function(){var t=this;this.$axios({method:"get",url:"CustomerIDCard/IDCardList"}).then(function(s){"0"==s.data.res_status_code?t.IDCardList=s.data.res_content:t.$message({showClose:!0,message:s.data.res_message,type:"error"})}).catch(function(t){console.log(t)})},getAddressList:function(){var t=this;this.$axios({method:"get",url:"CustomerAddress/AddressList"}).then(function(s){"0"==s.data.res_status_code?t.addresslist=s.data.res_content:t.$message({showClose:!0,message:s.data.res_message,type:"error"})}).catch(function(t){console.log(t)})},chooseAddress:function(t){var s=this;this.order.address_id=t.id,this.$axios({method:"post",url:"Order/UpdateOrderAddress",data:{order_no:this.orderid,address_id:t.id}}).then(function(t){"0"==t.data.res_status_code?(s.dialogVisible=!1,s.getOrderDetail()):s.$message({showClose:!0,message:t.data.res_message,type:"error"})}).catch(function(t){console.log(t)})},chooseIdcard:function(t){var s=this;this.order.id_card=t.id_card,this.order.real_name=t.real_name,this.$axios({method:"post",url:"Order/UpdateOrderCustInfo",data:{order_no:this.orderid,id_card:t.id_card,real_name:t.real_name}}).then(function(t){"0"==t.data.res_status_code?(s.dialogidcard=!1,s.getOrderDetail()):s.$message({showClose:!0,message:t.data.res_message,type:"error"})}).catch(function(t){console.log(t)})},changepaytype:function(t){this.paytype=t.type,this.dialogidpaytype=!1},pay:function(){"0"==this.paytype?this.$notify({title:"支付宝支付",message:"支付宝支付"}):"1"==this.paytype?this.$notify({title:"微信支付",message:"微信支付"}):"2"==this.paytype&&this.$notify({title:"银联支付",message:"银联支付"})}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{xs:0,sm:1,md:3,lg:5,xl:6}},[t._v("  ")]),t._v(" "),e("el-col",{attrs:{xs:24,sm:22,md:18,lg:14,xl:12}},[e("div",{staticClass:"header pd10_20 font-size15 bold"},[e("span",[t._v("确认订单")])]),t._v(" "),e("div",{staticClass:"mg20_0"},[e("div",{staticClass:"choose_box bd "},[e("div",{staticClass:"title pd10_20 flex_between_center"},[e("span",{staticClass:"font-size15 bold"},[t._v("选择地址")]),t._v(" "),t.addresslist.length>0?e("span",{staticClass:"font-size12 bold ",on:{click:function(s){t.dialogVisible=!0}}},[t._v("更换地址\n              "),e("i",{staticClass:"el-icon-comeyang-jiantou"})]):t._e()]),t._v(" "),e("div",{staticClass:"address_list flex_between_center fw pd10_20"},[t.order.province?e("el-col",{staticClass:"address_item_box relative",attrs:{span:16}},[e("div",{staticClass:"address_item flex_column  mg10  pd10"},[e("p",{staticClass:"font-size14 receiver_message pd10_0"},[e("span",{staticClass:"bold"},[t._v("收件人："+t._s(t.order.receiver_name))])]),t._v(" "),e("p",{staticClass:"font-size12 pd10_0"},[e("span",{staticClass:"bold"},[t._v("收件人手机号："+t._s(t.order.receiver_phone))])]),t._v(" "),e("p",{staticClass:"font-size12 "},[e("span",{staticClass:"bold"},[t._v("收件地址："+t._s(t.order.province))]),t._v(" "),e("span",{staticClass:"bold"},[t._v(t._s(t.order.city))]),t._v(" "),e("span",{staticClass:"bold"},[t._v(t._s(t.order.district))]),t._v(" "),e("span",[t._v(t._s(t.order.address))])])])]):t._e(),t._v(" "),t.addresslist.length>0?e("el-col",{staticClass:"address_item_box bd relative ",attrs:{span:4}},[e("div",{staticClass:"address_item flex_center_center commoncolor bold"},[e("span",{on:{click:function(s){t.dialogVisible=!0}}},[t._v("更换地址")])])]):t._e(),t._v(" "),0==t.addresslist.length?e("el-col",{staticClass:"address_item_box bd relative ",attrs:{span:4}},[e("div",{staticClass:"address_item flex_center_center commoncolor bold"},[e("router-link",{staticClass:"common_a commoncolor",attrs:{to:{path:"/EditAddress",query:{type:t.type}}}},[t._v("新增地址")])],1)]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"mg20_0"},[e("div",{staticClass:"choose_box bd "},[e("div",{staticClass:"title pd10_20 flex_between_center font-size15 bold"},[e("span",{staticClass:"font-size15 bold"},[t._v("选择身份证")]),t._v(" "),t.IDCardList.length>0?e("span",{staticClass:"font-size12 bold ",on:{click:function(s){t.dialogidcard=!0}}},[t._v("更换身份证\n              "),e("i",{staticClass:"el-icon-comeyang-jiantou"})]):t._e()]),t._v(" "),e("div",{staticClass:"address_list flex_between_center fw pd10_20"},[t.order.real_name?e("el-col",{staticClass:"address_item_box relative",attrs:{span:16}},[e("div",{staticClass:"address_item flex_column  mg10  pd10"},[e("p",{staticClass:"font-size14 receiver_message pd10_0"},[e("span",{staticClass:"bold"},[t._v("实名信息："+t._s(t.order.real_name))])]),t._v(" "),e("p",{staticClass:"font-size12 pd10_0"},[e("span",{staticClass:"bold"},[t._v("身份证号码："+t._s(t.order.id_card))])])])]):t._e(),t._v(" "),t.IDCardList.length>0?e("el-col",{staticClass:"address_item_box bd relative ",attrs:{span:4}},[e("div",{staticClass:"address_item flex_center_center commoncolor bold"},[e("span",{on:{click:function(s){t.dialogidcard=!0}}},[t._v("更换身份证")])])]):t._e(),t._v(" "),0==t.IDCardList.length?e("el-col",{staticClass:"address_item_box bd relative ",attrs:{span:4}},[e("div",{staticClass:"address_item flex_center_center commoncolor bold"},[e("router-link",{staticClass:"common_a commoncolor ",attrs:{to:{path:"/AddIdcard"}}},[t._v("新增身份证信息")])],1)]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"mg20_0"},[e("div",{staticClass:"choose_box bd "},[e("div",{staticClass:"title pd10_20 font-size15 bold"},[t._v("确认订单信息")]),t._v(" "),e("div",{staticClass:"pd10"},[e("el-row",{staticClass:"orderlist_title font-size14"},[e("el-col",{staticClass:"orderlist_titlename tc pd10_0",attrs:{span:4}},[t._v("商品图片")]),t._v(" "),e("el-col",{staticClass:"orderlist_titlename tc pd10_0",attrs:{span:7}},[t._v("商品名称")]),t._v(" "),e("el-col",{staticClass:"orderlist_titlename tc pd10_0",attrs:{span:4}},[t._v("规格")]),t._v(" "),e("el-col",{staticClass:"orderlist_titlename tc pd10_0",attrs:{span:4}},[t._v("价格")]),t._v(" "),e("el-col",{staticClass:"orderlist_titlename tc pd10_0",attrs:{span:5}},[t._v("购买数量")])],1),t._v(" "),t._l(t.orderdetail_list,function(s,a){return e("div",{key:"orderdetail1"+a},t._l(s.detail_list,function(s,a){return e("el-row",{key:"orderdetail"+a,staticClass:"orderlist_ul  flex_stretch font-size12 "},[e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:4}},[e("img",{attrs:{src:s.main_image}})]),t._v(" "),e("el-col",{staticClass:"orderlist_item flex_start_center tc pd10_0",attrs:{span:7}},[e("router-link",{staticClass:"common_a color333",attrs:{to:{path:"/Commodity",query:{id:s.goods_id}}}},[t._v("\n                    "+t._s(s.goods_name)+"\n                  ")])],1),t._v(" "),e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:4}},[t._v("\n                  "+t._s(s.spec_name)+"\n                ")]),t._v(" "),1==s.intax&&1==s.inbond?e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:4}},[t._v("￥"+t._s(s.goods_price))]):t._e(),t._v(" "),0==s.intax&&1==s.inbond?e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:4}},[t._v("￥"+t._s(s.goods_per_price)+"+税费:￥"+t._s(s.goods_per_tax))]):t._e(),t._v(" "),0==s.inbond?e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:4}},[t._v("￥"+t._s(s.goods_price))]):t._e(),t._v(" "),e("el-col",{staticClass:"orderlist_item flex_center_center tc pd10_0",attrs:{span:5}},[t._v("\n                  "+t._s(s.goods_count)+"\n                ")])],1)}))})],2)])]),t._v(" "),e("div",{staticClass:"mg20_0"},[e("div",{staticClass:"right paybox "},[e("div",{staticClass:"paybox_shadow pd20 flex_column_center_end relative"},[e("p",[e("span",{staticClass:"font-size12 bold"},[t._v("实付款：")]),t._v(" "),e("span",{staticClass:"commoncolor font-size30 bold"},[t._v("￥"+t._s(t.order.pay_price))]),t._v(" "),e("span",{staticClass:"color333 font-size12"},[t._v("(包含邮费"+t._s(t.order.feight_price)+"元)")])]),t._v(" "),t.order.province?e("p",[e("span",{staticClass:"font-size12 bold"},[t._v("寄送至：")]),t._v(" "),e("span",{staticClass:"color333 font-size12"},[t._v(t._s(t.order.province)+t._s(t.order.city)+t._s(t.order.district)+t._s(t.order.address))])]):t._e(),t._v(" "),t.order.province?e("p",[e("span",{staticClass:"font-size12 bold"},[t._v("收货人：")]),t._v(" "),e("span",{staticClass:"color333 font-size12"},[t._v(t._s(t.order.receiver_name)+t._s(t.order.receiver_phone))])]):e("p",[e("span",{staticClass:"font-size12 bold"},[t._v("您还未选择地址")])]),t._v(" "),e("el-button",{staticClass:"common_button",staticStyle:{margin:"20px 0 10px 0"},on:{click:function(s){t.pay()}}},[t._v(t._s(t.paylist[t.paytype].name)+"结算")]),t._v(" "),e("p",{staticClass:"font-size12 color333",on:{click:function(s){t.dialogidpaytype=!0}}},[t._v("您还可以选择\n              "),e("span",{staticClass:"commoncolor underline"},[t._v("其他支付")]),t._v("方式")])],1)])])]),t._v(" "),e("el-col",{attrs:{xs:0,sm:1,md:3,lg:5,xl:6}},[t._v(" ")])],1),t._v(" "),e("el-dialog",{attrs:{title:"选择地址",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(s){t.dialogVisible=s}}},[e("div",{staticStyle:{height:"500px","overflow-y":"auto",border:"1px solid #eee"}},[e("el-row",[e("router-link",{staticClass:"common_a commoncolor common_button left mg10 addbutton",attrs:{to:{path:"/EditAddress",query:{type:t.type}}}},[t._v("新增地址")])],1),t._v(" "),t._l(t.addresslist,function(s,a){return e("el-col",{key:a,staticClass:"address_item_box relative",attrs:{span:8}},[e("div",{staticClass:"address_item_bg flex_column  mg10  pd10",class:{address_item_active_bg:s.id==t.order.address_id},on:{click:function(e){t.chooseAddress(s)}}},[e("p",{staticClass:"font-size14 receiver_message pd10_0"},[e("span",[t._v(t._s(s.province))]),t._v(" "),e("span",{staticClass:"bold"},[t._v(t._s(s.city))]),t._v(" "),e("span",{staticClass:"bold"},[t._v(t._s(s.district))]),t._v(" "),e("span",[t._v("("+t._s(s.receiver_name)+")   收")])]),t._v(" "),e("p",{staticClass:"font-size12 pd10_0"},[t._v(t._s(s.address))]),t._v(" "),e("p",{staticClass:"font-size12 "},[t._v("("+t._s(s.receiver_name)+") "+t._s(s.receiver_phone)+"  收")])]),t._v(" "),s.id==t.order.address_id?e("i",{staticClass:"el-icon-comeyang-gouxuan icon commoncolor absolute"}):t._e()])})],2),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(s){t.dialogVisible=!1}}},[t._v("取 消")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"选择身份证",visible:t.dialogidcard,width:"60%"},on:{"update:visible":function(s){t.dialogidcard=s}}},[e("div",{staticStyle:{height:"500px","overflow-y":"auto",border:"1px solid #eee"}},[e("el-row",[e("router-link",{staticClass:"common_a commoncolor common_button left mg10 addbutton",attrs:{to:{path:"/AddIdcard"}}},[t._v("新增身份证信息")])],1),t._v(" "),t._l(t.IDCardList,function(s,a){return e("el-col",{key:a,staticClass:"address_item_box relative",attrs:{span:8}},[e("div",{staticClass:"address_item_bg flex_column  mg10  pd10",class:{address_item_active_bg:s.real_name==t.order.real_name&&s.id_card==t.order.id_card},on:{click:function(e){t.chooseIdcard(s)}}},[e("p",{staticClass:"font-size14 receiver_message pd10_0"},[e("span",[t._v(t._s(s.real_name))])]),t._v(" "),e("p",{staticClass:"font-size12 pd10_0"},[t._v(t._s(s.id_card))])]),t._v(" "),s.real_name==t.order.real_name&&s.id_card==t.order.id_card?e("i",{staticClass:"el-icon-comeyang-gouxuan icon commoncolor absolute"}):t._e()])})],2),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(s){t.dialogVisible=!1}}},[t._v("取 消")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"选择支付方式",visible:t.dialogidpaytype,width:"50%"},on:{"update:visible":function(s){t.dialogidpaytype=s}}},[e("div",{staticClass:"flex_between_center"},t._l(t.paylist,function(s,a){return e("el-col",{key:"pay"+a,attrs:{span:7}},[e("div",{staticClass:"paytypeitem bd relative tc",on:{click:function(e){t.changepaytype(s)}}},[e("p",{staticClass:"pd30_0 flex_center_center"},[e("svg",{staticClass:"icon mg0_10",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#"+s.icon}})]),t._v(" "),e("span",[t._v(t._s(s.name)+"支付")])]),t._v(" "),t.paytype==s.type?e("i",{staticClass:"el-icon-comeyang-gouxuan icon commoncolor absolute"}):t._e()])])})),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(s){t.dialogidpaytype=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var o=e("VU/8")(a,i,!1,function(t){e("vin3")},null,null);s.default=o.exports},vin3:function(t,s){}});
//# sourceMappingURL=20.39f35faa04bd64d52e2c.js.map