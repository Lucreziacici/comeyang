{"version":3,"sources":["webpack:///src/pages/Order/OrderDetail.vue","webpack:///./src/pages/Order/OrderDetail.vue?0392","webpack:///./src/pages/Order/OrderDetail.vue"],"names":["OrderDetail","data","order_no","this","$route","query","order","package_list","IDCardList","dialogidcard","components","OrderCommodity","created","getOrderDetail","getIDCardList","methods","_this","$axios","method","url","params","then","res","res_status_code","res_content","$message","showClose","message","res_message","type","catch","err","console","log","_this2","chooseIdcard","e","_this3","id_card","real_name","payOrder","$router","push","name","orderid","cancelOrder","_this4","$confirm","confirmButtonText","cancelButtonText","refundOrder","_this5","checkLogistics","confirmOrder","_this6","deleteOrder","_this7","back","Order_OrderDetail","render","_vm","_h","$createElement","_c","_self","attrs","gutter","xs","sm","md","lg","xl","_v","staticClass","_s","status_name","receiver_name","receiver_phone","city","province","district","address","_e","plain","on","click","$event","_l","item","index","key","a","b","goods_count","pay_price","feight_price","status","refund_status","title","visible","width","update:visible","staticStyle","height","overflow-y","border","to","path","span","class","address_item_active_bg","slot","dialogVisible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.1bd02af467d9405d4d19.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"0\">\r\n      <el-col :xs=\"0\" :sm=\"1\" :md=\"3\" :lg=\"5\" :xl=\"6\">&nbsp; </el-col>\r\n      <el-col :xs=\"24\" :sm=\"22\" :md=\"18\" :lg=\"14\" :xl=\"12\">\r\n        <div class=\"order\">\r\n          <div class=\"header flex_between_center pd10_20 font-size15 bold\">\r\n            <span>{{order.status_name}}</span>\r\n            <span>\r\n              订单号:{{order.order_no}}\r\n            </span>\r\n          </div>\r\n\r\n          <div class=\"order_body\">\r\n            <div v-if=\"order.city\" class=\"order_message  pd20\">\r\n              <div class=\"title bold \">收件地址：</div>\r\n              <div class=\"font-size14 mg10_0\">{{order.receiver_name}} &nbsp;&nbsp;{{order.receiver_phone}}</div>\r\n              <div class=\"font-size14\">{{order.city}} &nbsp;&nbsp;{{order.province}}&nbsp;&nbsp;{{order.district}}&nbsp;&nbsp;{{order.address}}</div>\r\n\r\n            </div>\r\n            <div  v-if=\"order.real_name\" class=\"order_message s pd20\">\r\n              <div class=\"title bold\">身份信息：</div>\r\n              <div class=\"font-size14 mg10_0 flex_between_center\">\r\n                <p>\r\n                  {{order.real_name}} &nbsp;&nbsp;&nbsp;&nbsp;{{order.id_card}}\r\n                </p>\r\n                <el-button :plain=\"true\" @click=\"dialogidcard=true\">\r\n                  修改信息\r\n                </el-button>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div v-for=\"(item,index) in package_list\" :key=\"index\" class=\"commodity_list\">\r\n              <OrderCommodity v-for=\"(a,b) in item.detail_list\" :key=\"b\" :a=\"a\"></OrderCommodity>\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"order_footer flex_between_center mg10_0\">\r\n            <div class=\" font-size12\">\r\n              <p>共{{order.goods_count}}件商品 合计:\r\n                <span class=\"font-size14 commoncolor\">￥{{order.pay_price}}</span>(含运费￥{{order.feight_price}})</p>\r\n            </div>\r\n            <div class=\"order_button\">\r\n              <el-button v-if=\"order.status=='00'\" :plain=\"true\" @click=\"payOrder(order.order_no)\">去付款</el-button>\r\n              <el-button v-if=\"order.status=='00'\" :plain=\"true\" @click=\"cancelOrder(order.order_no)\">取消订单</el-button>\r\n              <el-button v-if=\"order.status=='10'&&order.refund_status=='00'\" :plain=\"true\" @click=\"refundOrder(order.order_no)\">退款</el-button>\r\n              <el-button v-if=\"order.status=='20'||order.status=='21'||order.status=='30'\" :plain=\"true\" @click=\"checkLogistics(order.order_no)\">查看物流</el-button>\r\n              <el-button v-if=\"order.status=='20'\" :plain=\"true\" @click=\"confirmOrder(order.order_no)\">确认收货</el-button>\r\n              <el-button v-if=\"order.status=='30'||order.status=='40'||order.status=='90'\" :plain=\"true\" @click=\"deleteOrder(order.order_no)\">删除订单</el-button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <el-dialog title=\"选择身份证\" :visible.sync=\"dialogidcard\" width=\"60%\">\r\n          <div style=\"height: 500px; overflow-y: auto;border:1px solid #eee\">\r\n            <el-row>\r\n              <router-link class=\"common_a commoncolor common_button left mg10 addbutton\" :to='{path:\"/AddIdcard\"}'>新增身份证信息</router-link>\r\n            </el-row>\r\n            <el-col class=\"address_item_box relative\" :span=\"8\" v-for=\"(item,index) in IDCardList\" :key=\"index\">\r\n              <div class=\"address_item_bg flex_column  mg10  pd10\" :class=\"{'address_item_active_bg':item.real_name==order.real_name&&item.id_card==order.id_card}\" @click=\"chooseIdcard(item)\">\r\n                <p class=\"font-size14 receiver_message pd10_0\">\r\n                  <span>{{item.real_name}}</span>\r\n                </p>\r\n                <p class=\"font-size12 pd10_0\">{{item.id_card}}</p>\r\n              </div>\r\n              <i v-if=\"item.real_name==order.real_name&&item.id_card==order.id_card\" class=\"el-icon-comeyang-gouxuan icon commoncolor absolute\"></i>\r\n            </el-col>\r\n          </div>\r\n\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          </span>\r\n        </el-dialog>\r\n\r\n      </el-col>\r\n      <el-col :xs=\"0\" :sm=\"1\" :md=\"3\" :lg=\"5\" :xl=\"6\">&nbsp;</el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderCommodity from \"../../components/OrderCommodity\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      order_no: this.$route.query.order_no,\r\n      order: {},\r\n      package_list: [],\r\n      IDCardList: [],\r\n      dialogidcard: false\r\n    };\r\n  },\r\n  components: {\r\n    OrderCommodity\r\n  },\r\n  created() {\r\n    this.getOrderDetail();\r\n    this.getIDCardList();\r\n  },\r\n  methods: {\r\n    // 获取订单详情\r\n    getOrderDetail() {\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: \"Order/OrderDetail\",\r\n        params: {\r\n          order_no: this.order_no\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.res_status_code == \"0\") {\r\n            this.order = res.data.res_content.order;\r\n            this.package_list = res.data.res_content.package_list;\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.data.res_message,\r\n              type: \"error\"\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    //获取身份证列表\r\n    getIDCardList() {\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: \"CustomerIDCard/IDCardList\"\r\n      })\r\n        .then(res => {\r\n          if (res.data.res_status_code == \"0\") {\r\n            this.IDCardList = res.data.res_content;\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.data.res_message,\r\n              type: \"error\"\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n      // 更新身份证\r\n    chooseIdcard(e) {\r\n      this.order.id_card = e.id_card;\r\n      this.order.real_name = e.real_name;\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: \"Order/UpdateOrderCustInfo\",\r\n        data: {\r\n          order_no: this.order_no,\r\n          id_card: e.id_card,\r\n          real_name: e.real_name\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.res_status_code == \"0\") {\r\n            this.dialogidcard = false;\r\n            this.$message({\r\n              showClose: true,\r\n              message: \"修改成功\",\r\n              type: \"success\"\r\n            });\r\n            this.getOrderDetail();\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.data.res_message,\r\n              type: \"error\"\r\n            });\r\n            this.getOrderDetail();\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // 去付款\r\n    payOrder(e) {\r\n      this.$router.push({\r\n        name: \"ConfirmOrder\",\r\n        query: { orderid: e }\r\n      });\r\n    },\r\n    //取消订单\r\n    cancelOrder(e) {\r\n      this.$confirm(\"确定要取消订单?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$axios({\r\n            method: \"post\",\r\n            url: \"Order/CancelOrder\",\r\n            data: {\r\n              order_no: e\r\n            }\r\n          })\r\n            .then(res => {\r\n              if (res.data.res_status_code == \"0\") {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"已取消订单!\"\r\n                });\r\n                this.getOrderDetail();\r\n              } else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.res_message,\r\n                  type: \"error\"\r\n                });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消操作\"\r\n          });\r\n        });\r\n    },\r\n    //退款\r\n    refundOrder(e) {\r\n      this.$confirm(\"是否确认退款?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$axios({\r\n            method: \"post\",\r\n            url: \"Refund/CreateRefundOrder\",\r\n            data: {\r\n              order_no: e\r\n            }\r\n          })\r\n            .then(res => {\r\n              if (res.data.res_status_code == \"0\") {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"已申请确认退款!\"\r\n                });\r\n                this.getOrderDetail();\r\n              } else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.res_message,\r\n                  type: \"error\"\r\n                });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消操作\"\r\n          });\r\n        });\r\n    },\r\n    //查看物流\r\n    checkLogistics(e) {\r\n      // todo 查看物流\r\n      this.$router.push({\r\n        name: \"ConfirmOrder\",\r\n        query: { orderid: e }\r\n      });\r\n    },\r\n    //确认收货\r\n    confirmOrder(e) {\r\n      this.$confirm(\"是否确认收货?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$axios({\r\n            method: \"post\",\r\n            url: \"Order/ConfirmOrder\",\r\n            data: {\r\n              order_no: e\r\n            }\r\n          })\r\n            .then(res => {\r\n              if (res.data.res_status_code == \"0\") {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"已确认收货!\"\r\n                });\r\n                this.getOrderDetail();\r\n              } else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.res_message,\r\n                  type: \"error\"\r\n                });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消操作\"\r\n          });\r\n        });\r\n    },\r\n    //删除订单\r\n    deleteOrder(e) {\r\n      this.$confirm(\"是否删除订单?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$axios({\r\n            method: \"post\",\r\n            url: \"Order/DeleteOrder\",\r\n            data: {\r\n              order_no: e\r\n            }\r\n          })\r\n            .then(res => {\r\n              if (res.data.res_status_code == \"0\") {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"删除成功!\"\r\n                });\r\n                this.$router.back();\r\n              } else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.res_message,\r\n                  type: \"error\"\r\n                });\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消操作\"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped >\r\n.address_item_box {\r\n  .icon {\r\n    right: 6px;\r\n    bottom: 6px;\r\n    font-size: 40px;\r\n  }\r\n}\r\n.address_item {\r\n  height: 100px;\r\n\r\n  .receiver_message {\r\n    border-bottom: 1px solid #eee;\r\n    width: 100%;\r\n  }\r\n}\r\n.addbutton {\r\n  padding: 10px 20px;\r\n  border-radius: 5px;\r\n}\r\n.address_item_bg {\r\n  height: 100px;\r\n  background: url(../../assets/choose_bd.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  padding: 20px;\r\n}\r\n.address_item_active_bg {\r\n  background: url(../../assets/choose_bd_active.png) no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n.address_item_bg:active,\r\n.address_item_bg:focus,\r\n.address_item_bg:hover {\r\n  background: url(../../assets/choose_bd_active.png) no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n.order_message {\r\n  border-bottom: 1px solid #f2f2f2;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Order/OrderDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"xs\":0,\"sm\":1,\"md\":3,\"lg\":5,\"xl\":6}},[_vm._v(\"  \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":24,\"sm\":22,\"md\":18,\"lg\":14,\"xl\":12}},[_c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"header flex_between_center pd10_20 font-size15 bold\"},[_c('span',[_vm._v(_vm._s(_vm.order.status_name))]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n            订单号:\"+_vm._s(_vm.order.order_no)+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"order_body\"},[(_vm.order.city)?_c('div',{staticClass:\"order_message  pd20\"},[_c('div',{staticClass:\"title bold \"},[_vm._v(\"收件地址：\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-size14 mg10_0\"},[_vm._v(_vm._s(_vm.order.receiver_name)+\"   \"+_vm._s(_vm.order.receiver_phone))]),_vm._v(\" \"),_c('div',{staticClass:\"font-size14\"},[_vm._v(_vm._s(_vm.order.city)+\"   \"+_vm._s(_vm.order.province)+\"  \"+_vm._s(_vm.order.district)+\"  \"+_vm._s(_vm.order.address))])]):_vm._e(),_vm._v(\" \"),(_vm.order.real_name)?_c('div',{staticClass:\"order_message s pd20\"},[_c('div',{staticClass:\"title bold\"},[_vm._v(\"身份信息：\")]),_vm._v(\" \"),_c('div',{staticClass:\"font-size14 mg10_0 flex_between_center\"},[_c('p',[_vm._v(\"\\n                \"+_vm._s(_vm.order.real_name)+\"     \"+_vm._s(_vm.order.id_card)+\"\\n              \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.dialogidcard=true}}},[_vm._v(\"\\n                修改信息\\n              \")])],1)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.package_list),function(item,index){return _c('div',{key:index,staticClass:\"commodity_list\"},_vm._l((item.detail_list),function(a,b){return _c('OrderCommodity',{key:b,attrs:{\"a\":a}})}))})],2),_vm._v(\" \"),_c('div',{staticClass:\"order_footer flex_between_center mg10_0\"},[_c('div',{staticClass:\" font-size12\"},[_c('p',[_vm._v(\"共\"+_vm._s(_vm.order.goods_count)+\"件商品 合计:\\n              \"),_c('span',{staticClass:\"font-size14 commoncolor\"},[_vm._v(\"￥\"+_vm._s(_vm.order.pay_price))]),_vm._v(\"(含运费￥\"+_vm._s(_vm.order.feight_price)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"order_button\"},[(_vm.order.status=='00')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.payOrder(_vm.order.order_no)}}},[_vm._v(\"去付款\")]):_vm._e(),_vm._v(\" \"),(_vm.order.status=='00')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.cancelOrder(_vm.order.order_no)}}},[_vm._v(\"取消订单\")]):_vm._e(),_vm._v(\" \"),(_vm.order.status=='10'&&_vm.order.refund_status=='00')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.refundOrder(_vm.order.order_no)}}},[_vm._v(\"退款\")]):_vm._e(),_vm._v(\" \"),(_vm.order.status=='20'||_vm.order.status=='21'||_vm.order.status=='30')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.checkLogistics(_vm.order.order_no)}}},[_vm._v(\"查看物流\")]):_vm._e(),_vm._v(\" \"),(_vm.order.status=='20')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.confirmOrder(_vm.order.order_no)}}},[_vm._v(\"确认收货\")]):_vm._e(),_vm._v(\" \"),(_vm.order.status=='30'||_vm.order.status=='40'||_vm.order.status=='90')?_c('el-button',{attrs:{\"plain\":true},on:{\"click\":function($event){_vm.deleteOrder(_vm.order.order_no)}}},[_vm._v(\"删除订单\")]):_vm._e()],1)])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择身份证\",\"visible\":_vm.dialogidcard,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogidcard=$event}}},[_c('div',{staticStyle:{\"height\":\"500px\",\"overflow-y\":\"auto\",\"border\":\"1px solid #eee\"}},[_c('el-row',[_c('router-link',{staticClass:\"common_a commoncolor common_button left mg10 addbutton\",attrs:{\"to\":{path:\"/AddIdcard\"}}},[_vm._v(\"新增身份证信息\")])],1),_vm._v(\" \"),_vm._l((_vm.IDCardList),function(item,index){return _c('el-col',{key:index,staticClass:\"address_item_box relative\",attrs:{\"span\":8}},[_c('div',{staticClass:\"address_item_bg flex_column  mg10  pd10\",class:{'address_item_active_bg':item.real_name==_vm.order.real_name&&item.id_card==_vm.order.id_card},on:{\"click\":function($event){_vm.chooseIdcard(item)}}},[_c('p',{staticClass:\"font-size14 receiver_message pd10_0\"},[_c('span',[_vm._v(_vm._s(item.real_name))])]),_vm._v(\" \"),_c('p',{staticClass:\"font-size12 pd10_0\"},[_vm._v(_vm._s(item.id_card))])]),_vm._v(\" \"),(item.real_name==_vm.order.real_name&&item.id_card==_vm.order.id_card)?_c('i',{staticClass:\"el-icon-comeyang-gouxuan icon commoncolor absolute\"}):_vm._e()])})],2),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":0,\"sm\":1,\"md\":3,\"lg\":5,\"xl\":6}},[_vm._v(\" \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-603ba9f9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Order/OrderDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../..\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-603ba9f9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-603ba9f9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-603ba9f9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Order/OrderDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}